(window["webpackJsonpreact-example"]=window["webpackJsonpreact-example"]||[]).push([[4],{123:function(e,t,a){"use strict";a.r(t);var n=a(13),r=a(14),c=a(16),s=a(15),o=a(17),i=a(1),l=a.n(i),m=a(24),u=a(124),p=a(87),h=a.n(p),d=a(89),f=a(32),y=a(33),E=a(90),w=a.n(E),C=a(72);var v=a(31),D=function(e){function t(){return Object(n.a)(this,t),Object(c.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(o.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,this.props.loading?l.a.createElement(v.a,null):this.props.children)}}]),t}(i.Component);D.defaultProps={loading:!1};var g=function(e){var t=e.changeHandler,a=e.searchCity,n=e.searchCityKeyPress,r=e.city;return l.a.createElement("div",{className:"locationForm"},l.a.createElement("input",{name:"city",placeholder:"Hong Kong",onChange:t,required:!0}),l.a.createElement("button",{onClick:a,onKeyPress:function(e){return n},disabled:!r}," Search "))},b=a(117),x=a(118),M=a(119),F=a(120),O=a(121),_=a(122),j=a(74),I=a.n(j),N=function(e){var t=e.city,a=e.currentDate,n=e.timezone,r=e.windSpeed,c=e.tempCur,s=e.tempMin,o=e.tempMax,i=e.weatherMain,m=e.weatherIcon,u=e.weatherDesc,p=I.a.unix(a,n).format("YYYY-MM-DD, ddd");return l.a.createElement(b.a,{className:"currentForeCastContainer ".concat(m)},l.a.createElement(x.a,null,l.a.createElement(M.a,null,l.a.createElement(F.a,{md:"7"},l.a.createElement("h1",null,p),l.a.createElement("h1",null,t," "),l.a.createElement("h2",null,c,"\xb0C"),l.a.createElement(O.a,{className:"tempText"},"Min: ",s,"\xb0C / Max: ",o,"\xb0C")),l.a.createElement(F.a,{md:"5"},l.a.createElement(_.a,{className:"weatherIcon txt-right",src:"".concat(C.openWeather.API_ICON_URL).concat(m,"@2x.png"),alt:i}),l.a.createElement("h4",null,i),l.a.createElement(O.a,{className:"weatherDesc"},u),l.a.createElement(O.a,null,"Wind Speed: ",r," ")))))},A=a(125),P=function(e){var t=e.date,a=e.tempCur,n=e.tempMin,r=e.tempMax,c=e.weatherMain,s=e.weatherIcon,o=e.showThreeHours,i=t.replace("00:00:00",""),m=I()(i).format("YYYY-MM-DD, ddd");return l.a.createElement(l.a.Fragment,null,l.a.createElement(b.a,{className:"forecast ".concat(s)},l.a.createElement(x.a,{className:""},l.a.createElement("h4",{className:"weatherDate"},m),l.a.createElement(_.a,{src:"".concat(C.openWeather.API_ICON_URL).concat(s,"@2x.png"),alt:c}),l.a.createElement("h2",null,a,"\xb0C"),l.a.createElement(O.a,{className:"tempText"},n,"\xb0C / ",l.a.createElement("b",null,r,"\xb0C")),l.a.createElement(A.a,{color:"secondary",onClick:function(){return o(i)}},"Show Details"))))},S=function(e){var t=e.date,a=e.tempCur,n=e.tempMin,r=e.tempMax,c=e.weatherMain,s=e.weatherIcon,o=e.weatherDesc,i=e.windSpeed,m=I()(t).format("YYYY-MM-DD, ddd hh:mm A");return l.a.createElement(l.a.Fragment,null,l.a.createElement(b.a,{className:"forecastDetails ".concat(s)},l.a.createElement(x.a,null,l.a.createElement(M.a,null,l.a.createElement(F.a,{md:"7"},l.a.createElement("h5",{className:"weatherDate"},m),l.a.createElement(M.a,null,l.a.createElement(F.a,null,l.a.createElement("h2",null,a,"\xb0C"),l.a.createElement(O.a,null,n,"\xb0C / ",l.a.createElement("b",null,r,"\xb0C"))),l.a.createElement(F.a,{xs:"5"},l.a.createElement(_.a,{src:"".concat(C.openWeather.API_ICON_URL).concat(s,"@2x.png"),alt:c})))),l.a.createElement(F.a,{md:"5"},l.a.createElement("h4",null,c),l.a.createElement(O.a,{className:"weatherDesc"},o),l.a.createElement(O.a,null,"Wind Speed: ",i," "))))))},k=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(c.a)(this,Object(s.a)(t).call(this,e))).showThreeHours=function(e){var t=a.props.fiveDaysForeCastData.list.filter((function(t){return t.dt_txt.includes(e)}));a.setState({threeHoursData:t}),setTimeout((function(){var e=document.getElementById("foreCastDetailsContainer").offsetTop-50;window.scrollTo({top:e,left:0,behavior:"smooth"})}),200)},a.state={threeHoursData:{}},a}return Object(o.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this,t=this.props.fiveDaysForeCastData,a=this.state.threeHoursData,n=t.list.filter((function(e){return e.dt_txt.includes("00:00:00")}));return l.a.createElement(l.a.Fragment,null,l.a.createElement("h2",null,"Coming Five Days"),l.a.createElement("div",{className:"forecastContainer"},Object.values(n).map((function(t,a){return l.a.createElement(P,{key:a,date:t.dt_txt,windSpeed:t.wind.speed,clouds:t.clouds,tempCur:t.main.temp,tempMin:t.main.temp_min,tempMax:t.main.temp_max,weatherMain:t.weather[0].main,weatherIcon:t.weather[0].icon,showThreeHours:e.showThreeHours})}))),a&&l.a.createElement("div",{className:"foreCastDetailsContainer",id:"foreCastDetailsContainer"},Object.values(a).map((function(e,t){return l.a.createElement(S,{key:t,date:e.dt_txt,windSpeed:e.wind.speed,clouds:e.clouds,tempCur:e.main.temp,tempMin:e.main.temp_min,tempMax:e.main.temp_max,weatherMain:e.weather[0].main,weatherIcon:e.weather[0].icon,weatherDesc:e.weather[0].description})}))))}}]),t}(i.Component);a.d(t,"MainContainer",(function(){return Y}));var Y=function(e){function t(){var e,a;Object(n.a)(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(a=Object(c.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(o)))).state={city:""},a.searchCity=function(){a.props.fetchCurrentForecast(a.state.city),a.props.fetchFiveDaysForecast(a.state.city),a.setState={city:""}},a.seachCityKeyPress=function(e){13===e.keycode&&(a.props.fetchCurrentForecast(a.state.city),a.props.fetchFiveDaysForecast(a.state.city))},a.changeHandler=function(e){e.preventDefault();var t=e.target.value;a.setState({city:t})},a}return Object(o.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchCurrentForecast("Hong Kong"),this.props.fetchFiveDaysForecast("Hong Kong")}},{key:"render",value:function(){var e=this.props,t=e.ajaxStatus,a=e.currentForeCastData,n=e.fiveDaysForeCastData,r=this.state.city;return l.a.createElement("div",{className:"container"},l.a.createElement("h1",{className:"header"},"Weather App "),l.a.createElement(D,{loading:t.isLoading},l.a.createElement(g,{changeHandler:this.changeHandler,searchCity:this.searchCity,searchCityKeyPress:this.searchCityKeyPress,city:r}),!0===t.isServerError&&l.a.createElement(u.a,{color:"danger"},t.serverMessage),l.a.createElement("div",{className:"dashboard"},l.a.createElement(N,{key:a.id,currentDate:a.dt,timezone:a.timezone,city:a.name+", "+a.sys.country,lat:a.coord.lat,lot:a.coord.lon,windSpeed:a.wind.speed,clouds:a.clouds.all,tempCur:a.main.temp,tempMin:a.main.temp_min,tempMax:a.main.temp_max,weatherMain:a.weather[0].main,weatherIcon:a.weather[0].icon,weatherDesc:a.weather[0].description}),l.a.createElement(k,{fiveDaysForeCastData:n}))))}}]),t}(i.Component);t.default=Object(m.connect)((function(e){return{ajaxStatus:e.ajaxStatus,currentForeCastData:e.store.currentForeCastData,fiveDaysForeCastData:e.store.fiveDaysForeCastData}}),{fetchCurrentForecast:function(e){return function(){var t=Object(d.a)(h.a.mark((function t(a){var n,r,c;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.replace(/\s/g,"+"),r="".concat(C.openWeather.API_URL,"/weather?q=").concat(n,"&").concat(C.openWeather.PARAM,"&appid=").concat(C.openWeather.API_KEY),a({type:f.b}),t.prev=3,t.next=6,w.a.get(r);case 6:(c=t.sent).data&&(a({type:y.a,currentForeCastData:c.data}),a({type:f.a})),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(3),console.log("error: "+t.t0),a({type:f.d,serverStatus:t.t0.response.status,serverMessage:t.t0.response.data.message});case 14:case"end":return t.stop()}}),t,null,[[3,10]])})));return function(e){return t.apply(this,arguments)}}()},fetchFiveDaysForecast:function(e){return function(){var t=Object(d.a)(h.a.mark((function t(a){var n,r,c;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.replace(/\s/g,"+"),r="".concat(C.openWeather.API_URL,"/forecast?q=").concat(n,"&").concat(C.openWeather.PARAM,"&appid=").concat(C.openWeather.API_KEY),a({type:f.b}),t.prev=3,t.next=6,w.a.get(r);case 6:(c=t.sent).data&&(a({type:y.b,fiveDaysForeCastData:c.data}),a({type:f.a})),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(3),a({type:f.d,serverStatus:t.t0.response.status,serverMessage:t.t0.response.data.message});case 13:case"end":return t.stop()}}),t,null,[[3,10]])})));return function(e){return t.apply(this,arguments)}}()}})(Y)},72:function(e){e.exports=JSON.parse('{"openWeather":{"API_KEY":"fdadbb716ef05103e8c9f0466b73a79c","API_URL":"https://api.openweathermap.org/data/2.5","API_ICON_URL":"https://openweathermap.org/img/wn/","PARAM":"type=like&sort=population&units=metric"}}')}}]);
//# sourceMappingURL=4.93331f2a.chunk.js.map